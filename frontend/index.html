<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#4F46E5">
  <title>Soulpull</title>
  <link rel="stylesheet" href="/static/css/styles.css">
  <script src="https://unpkg.com/@tonconnect/ui@2.0.0/dist/tonconnect-ui.min.js"></script>
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <div class="logo-icon">S</div>
        <span class="logo-text">Soulpull</span>
      </div>
      <span class="version">MVP v2.0</span>
    </header>

    <!-- Banner: Not in Telegram -->
    <div id="banner-not-telegram" class="banner banner-warning hidden">
      ‚ö†Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram WebApp –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
    </div>

    <!-- E1: Start -->
    <section id="screen-start" class="screen active">
      <div class="card">
        <div class="hero">
          <div class="hero-icon">üíé</div>
          <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
          <p class="hero-subtitle">–ü—Ä–∏–≥–ª–∞—Å–∏ 3 –¥—Ä—É–∑–µ–π ‚Äî –ø–æ–ª—É—á–∏ 33 USDT. –û–ø–ª–∞—Ç–∞ 15 USDT –∑–∞ —É—á–∞—Å—Ç–∏–µ.</p>
        </div>
        <button id="btn-start" class="btn btn-primary btn-lg">
          –ù–∞—á–∞—Ç—å ‚Üí
        </button>
      </div>
    </section>

    <!-- E2: Wallet -->
    <section id="screen-wallet" class="screen">
      <div class="card">
        <h2 class="card-title">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫</h2>
        <p class="card-subtitle">–ö–æ—à–µ–ª—ë–∫ = –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç. –ò—Å–ø–æ–ª—å–∑—É–µ–º TON Proof –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.</p>
        
        <div id="ton-connect-button" class="mb-4"></div>
        
        <div id="wallet-status" class="banner banner-info hidden">
          ‚úÖ –ö–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω
        </div>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-wallet-next" class="btn btn-primary" disabled>
          –î–∞–ª–µ–µ: –†–µ—Ñ–µ—Ä–∞–ª ‚Üí
        </button>
      </div>
    </section>

    <!-- E3: Referral -->
    <section id="screen-referral" class="screen">
      <div class="card">
        <h2 class="card-title">–ö—Ç–æ –≤–∞—Å –ø—Ä–∏–≥–ª–∞—Å–∏–ª?</h2>
        <p class="card-subtitle">–£–∫–∞–∂–∏—Ç–µ telegram_id –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ. –≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.</p>
        
        <div class="form-group">
          <label class="form-label">Telegram ID –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ</label>
          <input type="text" id="input-referrer" class="form-input" placeholder="123456789" inputmode="numeric">
          <p class="form-hint">–¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã. –ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∂–µ –æ–ø–ª–∞—á–µ–Ω.</p>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-referral-back" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
        <button id="btn-referral-next" class="btn btn-primary">–î–∞–ª–µ–µ ‚Üí</button>
      </div>
    </section>

    <!-- E4: Author Code -->
    <section id="screen-author" class="screen">
      <div class="card">
        <h2 class="card-title">–ö–æ–¥ –∞–≤—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h2>
        <p class="card-subtitle">–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∞–≤—Ç–æ—Ä—Å–∫–∏–π –∫–æ–¥ ‚Äî –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ. +10 –ø–æ–∏–Ω—Ç–æ–≤ –≤–∞–º –∏ –∞–≤—Ç–æ—Ä—É.</p>
        
        <div class="form-group">
          <label class="form-label">–ö–æ–¥ –∞–≤—Ç–æ—Ä–∞</label>
          <input type="text" id="input-author-code" class="form-input" placeholder="AUTHOR123">
          <p class="form-hint">–ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å</p>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-author-back" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
        <button id="btn-author-next" class="btn btn-primary">–î–∞–ª–µ–µ ‚Üí</button>
      </div>
    </section>

    <!-- E5: Payment -->
    <section id="screen-payment" class="screen">
      <div class="card">
        <h2 class="card-title">–û–ø–ª–∞—Ç–∞ 15 USDT</h2>
        <p class="card-subtitle">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Äî –°—Ç—Ä–∞–∂ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç.</p>
        
        <div id="payment-error" class="banner banner-error hidden"></div>
        
        <div id="payment-details" class="hidden">
          <div class="admin-item">
            <div class="admin-item-details">
              <strong>–ü–æ–ª—É—á–∞—Ç–µ–ª—å:</strong> <span id="payment-receiver"></span><br>
              <strong>–°—É–º–º–∞:</strong> 15 USDT<br>
              <strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</strong> <span id="payment-comment"></span>
            </div>
          </div>
        </div>
        
        <button id="btn-pay" class="btn btn-success btn-lg mb-4">
          üí≥ –û–ø–ª–∞—Ç–∏—Ç—å 15 USDT
        </button>
        
        <button id="btn-pay-send" class="btn btn-primary hidden">
          üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ—à–µ–ª—ë–∫
        </button>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-payment-back" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
        <button id="btn-payment-next" class="btn btn-primary" disabled>–ì–æ—Ç–æ–≤–æ ‚Üí</button>
      </div>
    </section>

    <!-- E6: Progress -->
    <section id="screen-progress" class="screen">
      <div class="card">
        <h2 class="card-title">–í–∞—à —Å—Ç–∞—Ç—É—Å</h2>
        
        <div class="text-center mb-4">
          <span id="participation-status" class="status-badge new">NEW</span>
        </div>
        
        <div class="progress-counter">
          <div class="progress-number"><span id="l1-count">0</span>/3</div>
          <div class="progress-label">–æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</div>
        </div>
        
        <ul class="checklist">
          <li class="checklist-item">
            <span id="check-paid" class="checklist-icon pending">‚óã</span>
            <span class="checklist-text">–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞</span>
          </li>
          <li class="checklist-item">
            <span id="check-l1" class="checklist-icon pending">‚óã</span>
            <span class="checklist-text">3 —Ä–µ—Ñ–µ—Ä–∞–ª–∞ –æ–ø–ª–∞—Ç–∏–ª–∏</span>
          </li>
          <li class="checklist-item">
            <span id="check-payout" class="checklist-icon pending">‚óã</span>
            <span class="checklist-text">–í—ã–ø–ª–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞</span>
          </li>
        </ul>
      </div>
      
      <div class="card">
        <button id="btn-tree" class="btn btn-outline mb-2">
          üå≥ –î–µ—Ä–µ–≤–æ L1
        </button>
        <button id="btn-payout" class="btn btn-success" disabled>
          üí∞ –ó–∞–ø—Ä–æ—Å–∏—Ç—å 33 USDT
        </button>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-strazh" class="btn btn-secondary">
          üõ°Ô∏è –°—Ç—Ä–∞–∂ (–∞–¥–º–∏–Ω)
        </button>
        <button id="btn-refresh" class="btn btn-primary">
          üîÑ –û–±–Ω–æ–≤–∏—Ç—å
        </button>
      </div>
    </section>

    <!-- E7: Tree -->
    <section id="screen-tree" class="screen">
      <div class="card">
        <h2 class="card-title">–í–∞—à–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã L1</h2>
        <p class="card-subtitle">–°–ª–æ—Ç—ã: <span id="slots-used">0</span>/3</p>
        
        <ul id="referral-list" class="referral-list">
          <!-- Dynamic content -->
        </ul>
        
        <div id="tree-empty" class="text-center text-muted mt-4">
          –ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
        </div>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-tree-back" class="btn btn-primary">‚Üê –ù–∞–∑–∞–¥ –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É</button>
      </div>
    </section>

    <!-- E8: Strazh (Admin) -->
    <section id="screen-strazh" class="screen">
      <div class="card">
        <h2 class="card-title">üõ°Ô∏è –°—Ç—Ä–∞–∂</h2>
        <p class="card-subtitle">–†—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π (MVP)</p>
        
        <div id="strazh-login" class="form-group">
          <label class="form-label">Admin Token</label>
          <input type="password" id="input-admin-token" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω">
          <button id="btn-admin-login" class="btn btn-primary mt-2">–í–æ–π—Ç–∏</button>
        </div>
        
        <div id="strazh-panel" class="hidden">
          <div class="admin-section">
            <h3 class="admin-section-title">–û–∂–∏–¥–∞—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</h3>
            <div id="pending-list">
              <!-- Dynamic content -->
            </div>
          </div>
          
          <div class="admin-section">
            <h3 class="admin-section-title">–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–ø–ª–∞—Ç—É</h3>
            <div id="payout-list">
              <!-- Dynamic content -->
            </div>
          </div>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button id="btn-strazh-back" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
      </div>
    </section>

    <!-- Toast -->
    <div id="toast" class="toast"></div>
  </div>

  <script src="/static/js/app.js"></script>
</body>
</html>

